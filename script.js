/* --- TEXT CONTENT --- */
const mainLetter = "Hey love, | | I hope you remember what date it is. | | It‚Äôs our 1-month anniversary. | I know we just celebrated 10 days... but look at us. | Here we are. | | Who could have guessed that after a messed-up relationship of just 5 days... | We would make it to a fucking 30 days? | | And 30 days means we made a month. | | Ek question che‚Äî | | Am I really that tall and handsome as hell? | | But seriously... | How did a boy with no knowledge of English... | A guy who doesn‚Äôt even know how to pronounce 'Satan'... | Get a girl like you? | | It‚Äôs shocking to accept. | Even for me. | | The month of December will always be huge for you. | What you‚Äôve been through is hard to even imagine. | But from Nov 12 to Dec 12... | We got each other. | | And that is a fucking good thing to remember. | | And don‚Äôt you think your man has done only this much... | For the Diamond of the Season? | | We have a lot to go through. | | When you can have the best... | Why stop at just a mere glimpse of the start? | | By the way... | While writing this, I‚Äôm talking to my inspiration. | | Any guess who she might be?";

const pastStory = "Hey baby, | | As you know, I‚Äôm making something for you‚Äîand I hate that you know it. | And now I hate myself even more that you‚Äôre asking about it, but I can‚Äôt tell you the truth. | I‚Äôm sorry for that. | And now I‚Äôm carrying the burden of being perfect and nice, but I can handle it‚Äîbecause it‚Äôs for you, and because we are together. | | You know the time from May 31 to November 12‚Äîhow hard those days were. | Wherever I went, I only thought of you. | And I swear, I never want to live that time again. | Those days were worse than a fucking nightmare. | I hope we‚Äôre never in a place again where we have to face that kind of life‚Äîthe life without each other. | | You know, at that time I grew my hair long. | I stopped everything that made me feel like myself. | And how can I forget about that call and those texts? | I mean, that was a hell of a night. | But you know, I never lost hope of you and me becoming an ‚Äúus.‚Äù | You know I‚Äôm madly in love with you, just like Gomez is with Morticia. | | But saying that I always knew you were coming back would be a lie. | In fact, I was in the worst phase of my life. | And the day we came to talk again, that same day I talked with Jay about you. | As you know, I also started smoking during those days. | We were smoking, and the only thing I could think about was you. | | How can I forget how that time took away the most important thing in my life‚Äîmy humor. | My ability to make others laugh. | And when I say I make people laugh, I really do. | | Back then, I was constantly fighting with my family, with Jay, with Yug‚Äîwith everyone. | I really can‚Äôt imagine those days again. | | Losing you once already felt unbearable. | Promise me you‚Äôll never leave. | I always say nothing you do can hurt me‚Äîbut the day you left, I just broke. | And I‚Äôm being 100% honest: I didn't like you for that. | | And Taylor Swift played a huge role in making me more depressed... | ‚ÄúGuilty As Sin,‚Äù | ‚ÄúI‚Äôm Gonna Get You Back,‚Äù | ‚ÄúDown Bad,‚Äù | and ‚ÄúFresh Out the Slammer.‚Äù | | These songs killed me every time I listened to them, but I still love them because they reminded me of you. | | And I really hope I never see those kinds of days again. | I don‚Äôt want to live without you.";

const presentStory = "So, as you read about our beginning, it was all very lame things‚Äîpain, sadness, and stuff like that. | That whole thing is actually a shit box, in my opinion. | Like, really, who even cares about all that? | | Because look at us‚Äîwe are happier than we ever were. | We are more in love than we ever were. | We are just at our best. | So who cares about all that? | | We are so good with each other. | I even saved you from a kidnapper, even though that kidnapper was a cutie. | But a kidnapper is a kidnapper, and no one can take you from me‚Äîno matter if it‚Äôs you yourself. | And if you try, I will be the kidnapper. | I swear about that. | | And by a cute kidnapper, I remember my two divine things: | THE EYES. | Your eyes, which actually belong to me. | They are so beautiful. | I love them. | I want them. | I want to see them. | I really want to see them. | Where are they? | | But I have to say, we have come a long way from all that. | And now we talk about anime, about the LGBTQ+ community, about how I look at your friend and say, ‚ÄúI love you more than Kahish.‚Äù | Now we wake up with the thought of who is missing whom first and who wins. | | And also, we are rivals too‚Äîyou Red Bull and Ferrari, and me the winning Papaya. | You MI, me CSK. | You, the one who loves English; me, the one who just hates grammar. | And also THEM‚Äîhe is a BKL, to be honest. | | But yeah, all this makes us us. | | You, the divine power. | Me, the chosen one. | Just made for each other.";

const futureStory = "See, the thing about promises is that they‚Äôre made when there‚Äôs an issue of trust. | When trust shakes, people make promises and hope they can live through it. | | But I don‚Äôt want us to just live by hope. | I want to give you a life where you never even have a second thought about me or about us. | | So I won‚Äôt make a promise to you. | But I will say a few things: | | I will make you Maggi at 3:30 AM after watching some gothic, blood-filled show like Hannibal, or we can eat while watching it. | Then we can wash the dishes together. | After that, we can move the furniture so we can dance‚Ä¶ | or we can fight too, since we both know karate. | Just go hard on me. | | And we will have to be careful while doing all this, because as we want, there will be so many pets‚Äîdogs, cats, even birds‚Äîso we can‚Äôt be reckless. | | And, and, and‚Ä¶ I want to quote someone. | Maybe you remember him: | | ‚ÄúWhat is it to admire a woman? | To look at her and feel inspiration. | To delight in her beauty, so much so that your defenses crumble, that you would willingly take on any pain, any burden for her. | To honor her being with your deeds and words. | That is what the true poet describes.‚Äù | ‚Äî Benedict Bridgerton | | His words are so great. | My defenses really do crumble when it comes to you. | | I don‚Äôt want anything from this life. | I just want you. | You‚Äôre the only reason I want to be successful‚Äîso I can make you happy, so I can be worthy of you. | | That‚Äôs how I want to show my honor for you: with my deeds. | | And about words‚Ä¶ I‚Äôm not that good, so I‚Äôm sorry.";

const finalText = "Hey baby, | | You know, I once heard that in a healthy relationship, a man falls for his woman every second, every minute, every hour, and every moment. | And I used to think, how is that even possible? | How can someone fall for the same person again and again and again? | | But now when I look at you, I see how truthful that line is. | | And that feeling isn‚Äôt just because of your eyes or your hair ‚Äî it‚Äôs you. | | I always say I love your eyes more, but that‚Äôs a lie. | I love you the most. | | And as Lord Anthony said, | ‚ÄúYou‚Äôre the bane of my existence, and there is no place on this earth far enough to make me forget you, or even imagine anyone else other than you.‚Äù | | So tell me‚Ä¶ | | Will you be mine ‚Äî and only mine ‚Äî for the rest of my life? | | Will you be the parent of our kids ‚Äî little Ramlal and little Gangadevi? | | Will you??? | | They need a father figure who drinks brown liquor and has a big‚Äî | | ‚Ä¶never mind. | | Tell me‚Ä¶ | | Will you be my mama and their pappa?";

const speed = 50; 

/* --- JOURNEY START --- */
function startJourney() {
    const landingPage = document.getElementById('landing-page');
    const letterPage = document.getElementById('letter-page');
    const contentDiv = document.querySelector('.content'); 
    const music = document.getElementById('bg-music');
    const btn = document.querySelector('.enter-btn');

    btn.innerHTML = "Listening..."; 
    btn.style.pointerEvents = "none"; 
    
    music.volume = 0.9; 
    music.play().catch(e => console.log("Music blocked"));

    contentDiv.style.transition = "opacity 1.5s ease";
    contentDiv.style.opacity = '0';

    setTimeout(() => {
        landingPage.style.transition = "opacity 1s ease";
        landingPage.style.opacity = '0';

        setTimeout(() => {
            landingPage.style.display = 'none';
            letterPage.classList.remove('hidden');
            letterPage.style.display = 'flex';
            
            setTimeout(() => {
                letterPage.style.opacity = '1';
                setTimeout(() => {
                    typeWriter("ghost-text", mainLetter, 0); 
                }, 1500); 
            }, 100);
        }, 2000); 
    }, 2000); 
}

/* --- TYPEWRITER --- */
function typeWriter(elementId, text, index, callback) {
    if (index < text.length) {
        const char = text.charAt(index);
        const element = document.getElementById(elementId);

        if (char === '|') {
            element.innerHTML += "<br>";
        } else {
            element.innerHTML += char;
        }
        
        // Auto-scroll logic
        if (element.classList.contains('letter-text') || element.classList.contains('story-text')) {
             element.scrollTop = element.scrollHeight;
        }

        setTimeout(() => {
            typeWriter(elementId, text, index + 1, callback);
        }, speed);
    } else {
        if (callback) callback();
    }
}

/* --- NEXT PAGE (Letter -> Bridge) --- */
function nextPage() {
    const letterPage = document.getElementById('letter-page');
    const memoryPage = document.getElementById('memory-page');

    letterPage.style.transition = "opacity 2s ease";
    letterPage.style.opacity = '0';

    setTimeout(() => {
        letterPage.style.display = 'none';
        memoryPage.classList.remove('hidden');
        memoryPage.style.display = 'flex';
        
        setTimeout(() => {
            memoryPage.style.opacity = '1';
        }, 100);
    }, 2000);
}

/* --- BRIDGE -> FULL PAGE LOGIC --- */
let readStatus = { past: false, present: false, future: false };

function openFullPage(pageType) {
    const memoryPage = document.getElementById('memory-page');
    const targetPage = document.getElementById(`page-${pageType}`);
    const textId = `text-${pageType}`;

    memoryPage.style.opacity = '0';

    setTimeout(() => {
        memoryPage.style.display = 'none';
        targetPage.classList.remove('hidden');
        targetPage.style.display = 'flex';

        setTimeout(() => {
            targetPage.style.opacity = '1';
            
            let storyText = "";
            if (pageType === 'past') storyText = pastStory;
            if (pageType === 'present') storyText = presentStory;
            if (pageType === 'future') storyText = futureStory;

            if (!readStatus[pageType]) {
                setTimeout(() => {
                    typeWriter(textId, storyText, 0);
                    readStatus[pageType] = true;
                }, 1000);
            }
        }, 100);
    }, 1000);
}

function backToBridge(pageType) {
    const currentPage = document.getElementById(`page-${pageType}`);
    const memoryPage = document.getElementById('memory-page');

    currentPage.style.opacity = '0';

    setTimeout(() => {
        currentPage.style.display = 'none';
        currentPage.classList.add('hidden');

        memoryPage.style.display = 'flex';
        setTimeout(() => {
            memoryPage.style.opacity = '1';
        }, 100);
    }, 1000);
}

/* --- FINAL PAGE LOGIC --- */
function openFinalPage() {
    const futurePage = document.getElementById('page-future');
    const finalPage = document.getElementById('page-final');

    futurePage.style.opacity = '0';

    setTimeout(() => {
        futurePage.style.display = 'none';
        finalPage.classList.remove('hidden');
        finalPage.style.display = 'flex';

        setTimeout(() => {
            finalPage.style.opacity = '1';
            setTimeout(() => {
                typeWriter("text-final", finalText, 0);
            }, 1000);
        }, 100);
    }, 1000);
}

function sendAnswer() {
    // ENTER YOUR PHONE NUMBER BELOW (e.g., 919876543210)
    const phoneNumber = "919998661427"; 
    
    const message = "Yes, I will be your mama and their pappa! üíç (And yes to Ramlal & Gangadevi!)";
    window.open(`https://wa.me/${phoneNumber}?text=${encodeURIComponent(message)}`, '_blank');
}